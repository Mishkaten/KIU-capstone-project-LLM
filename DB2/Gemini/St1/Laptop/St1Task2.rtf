{\rtf1\ansi\ansicpg1252\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fmodern\fcharset0 Courier;\f1\froman\fcharset0 Times-Roman;\f2\fnil\fcharset0 HelveticaNeue;
\f3\froman\fcharset0 Times-Bold;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red0\green0\blue233;\red0\green0\blue0;
\red179\green179\blue179;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;\cssrgb\c0\c0\c93333;\cssrgb\c0\c0\c0\c84706;
\cssrgb\c75294\c75294\c75294;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid1\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid2\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs26 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 -- Building Table\
CREATE TABLE Building (\
    BuildingID SERIAL PRIMARY KEY,\
    BuildingName VARCHAR(100) NOT NULL\
);\
\
-- Room Table\
CREATE TABLE Room (\
    RoomID SERIAL PRIMARY KEY,\
    BuildingID INTEGER REFERENCES Building(BuildingID) NOT NULL,\
    RoomNumber VARCHAR(10) NOT NULL\
);\
\
-- Assuming you already have tables for Lesson, Teacher, and Student with appropriate IDs.\
\
-- LessonSchedule Table (to track assigned rooms and timeslots)\
CREATE TABLE LessonSchedule (\
    LessonID INTEGER REFERENCES Lesson(LessonID) NOT NULL,\
    RoomID INTEGER REFERENCES Room(RoomID) NOT NULL,\
    Timeslot TIMESTAMP NOT NULL,\
    TeacherID INTEGER REFERENCES Teacher(TeacherID) NOT NULL,\
    StudentID INTEGER REFERENCES Student(StudentID) NOT NULL,\
    PRIMARY KEY (LessonID, RoomID, Timeslot), -- Composite primary key\
    UNIQUE (RoomID, Timeslot) -- Ensures one room is assigned per timeslot\
);\
\pard\pardeftab720\partightenfactor0

\f1\fs24 \cf0 \strokec2 Use code {\field{\*\fldinst{HYPERLINK "/faq#coding"}}{\fldrslt \cf3 \ul \ulc3 \strokec3 with caution.}}\
\pard\pardeftab720\partightenfactor0

\f2\fs22 \cf4 \cb5 \strokec4 content_copy
\f1\fs24 \cf0 \cb1 \strokec2 \
\pard\pardeftab720\sa240\partightenfactor0

\f3\b \cf0 \strokec2 Explanation:
\f1\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls1\ilvl0
\f3\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Building Table:
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls1\ilvl1
\f0\fs26 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 BuildingID
\f1\fs24 : Unique identifier for each building (auto-incrementing).\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 BuildingName
\f1\fs24 : Name of the building.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls1\ilvl0
\f3\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Room Table:
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls1\ilvl1
\f0\fs26 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 RoomID
\f1\fs24 : Unique identifier for each room (auto-incrementing).\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 BuildingID
\f1\fs24 : Foreign key referencing the building where the room is located.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 RoomNumber
\f1\fs24 : Room number within the building.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls1\ilvl0
\f3\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 LessonSchedule Table:
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls1\ilvl1
\f0\fs26 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 LessonID
\f1\fs24 : Foreign key referencing the lesson.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 RoomID
\f1\fs24 : Foreign key referencing the room where the lesson is held.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Timeslot
\f1\fs24 : The date and time the lesson is scheduled.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 TeacherID
\f1\fs24 : Foreign key referencing the teacher.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 StudentID
\f1\fs24 : Foreign key referencing the student.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 PRIMARY KEY (LessonID, RoomID, Timeslot)
\f1\fs24 : Composite primary key to ensure each lesson has a unique room and timeslot combination.\
\ls1\ilvl1
\f0\fs26 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 UNIQUE (RoomID, Timeslot)
\f1\fs24 : Unique constraint to prevent double-booking a room for the same timeslot.\
\pard\pardeftab720\sa240\partightenfactor0

\f3\b \cf0 Important Considerations:
\f1\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls2\ilvl0
\f3\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Timeslot:
\f1\b0  The 
\f0\fs26 TIMESTAMP
\f1\fs24  data type is chosen to store both date and time information accurately.\
\ls2\ilvl0
\f3\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Composite Primary Key:
\f1\b0  The combination of 
\f0\fs26 LessonID
\f1\fs24 , 
\f0\fs26 RoomID
\f1\fs24 , and 
\f0\fs26 Timeslot
\f1\fs24  ensures data integrity and enforces the business rule of one lesson per room per timeslot.\
\ls2\ilvl0
\f3\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Unique Constraint:
\f1\b0  The 
\f0\fs26 UNIQUE (RoomID, Timeslot)
\f1\fs24  constraint is the core mechanism to prevent a room from being assigned to multiple lessons at the same time.\
\ls2\ilvl0
\f3\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Teacher and Student IDs:
\f1\b0  If you plan to have multiple students in a lesson, you'll need to create a separate table to establish a many-to-many relationship between lessons and students.\
\ls2\ilvl0
\f3\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Extensibility:
\f1\b0  This schema is easily extensible. You can add more attributes (e.g., room capacity, teacher availability, etc.) to the respective tables as needed.\
}